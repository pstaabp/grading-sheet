{"remainingRequest":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js!/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js??ref--14-2!/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue","mtime":1592236811513},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js","mtime":1588951537846},{"path":"/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js","mtime":1588951543530},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js","mtime":1588951550037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy9wc3RhYWIvY29kZS9zdGFuZGFyZHMtZ3JhZGluZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9wc3RhYWIvY29kZS9zdGFuZGFyZHMtZ3JhZGluZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy9wc3RhYWIvY29kZS9zdGFuZGFyZHMtZ3JhZGluZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIi9Vc2Vycy9wc3RhYWIvY29kZS9zdGFuZGFyZHMtZ3JhZGluZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBpbnRlcnNlY3Rpb24gZnJvbSAibG9kYXNoLWVzL2ludGVyc2VjdGlvbiI7IC8vIGltcG9ydCB7IEJJY29uUGVyc29uQ2lyY2xlIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CgppbXBvcnQgeyBzZXR0aW5nc19zdG9yZSB9IGZyb20gIkAvc3RvcmUiOwppbXBvcnQgeyBuZXdHcmFkZUNhdGVnb3J5LCBuZXdHcmFkZVN1YmNhdGVnb3J5IH0gZnJvbSAiQC9jb21tb24iOwoKdmFyIEFkZENhdGVnb3J5TW9kYWwgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoQWRkQ2F0ZWdvcnlNb2RhbCwgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoQWRkQ2F0ZWdvcnlNb2RhbCk7CgogIGZ1bmN0aW9uIEFkZENhdGVnb3J5TW9kYWwoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFkZENhdGVnb3J5TW9kYWwpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5zZWxlY3RlZF9jYXRlZ29yeSA9ICIiOwogICAgX3RoaXMuY2F0ZWdvcnkgPSBuZXdHcmFkZUNhdGVnb3J5KCk7CiAgICBfdGhpcy5zdWJjYXRlZ29yeSA9IG5ld0dyYWRlU3ViY2F0ZWdvcnkoKTsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhBZGRDYXRlZ29yeU1vZGFsLCBbewogICAga2V5OiAic2F2ZUNhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzYXZlQ2F0ZWdvcnkoKSB7CiAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjYXQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEodGhpcy5zZWxlY3RlZF9jYXRlZ29yeSAhPT0gIl9fTkVXX18iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Nfc3RvcmUuYWRkQ2F0ZWdvcnkodGhpcy5jYXRlZ29yeSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGNhdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjYXQpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgICAgICAgICAgICB0aGlzLnN1YmNhdGVnb3J5LmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZCA9IGNhdC5jb3Vyc2VfZ3JhZGVfY2F0ZWdvcnlfaWQ7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzX3N0b3JlLmFkZFN1YmNhdGVnb3J5KHRoaXMuc3ViY2F0ZWdvcnkpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImNhdGVnb3J5X29wdGlvbnMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24oc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfY2F0ZWdvcmllcyAvLyBpbnRlcnNlY3Rpb24gcmV0dXJucyB0aGUgdW5pcXVlIGVsZW1lbnRzLgogICAgICAubWFwKGZ1bmN0aW9uIChfY2F0KSB7CiAgICAgICAgcmV0dXJuIF9jYXQuY2F0ZWdvcnk7CiAgICAgIH0pKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBBZGRDYXRlZ29yeU1vZGFsOwp9KFZ1ZSk7CgpBZGRDYXRlZ29yeU1vZGFsID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHt9KV0sIEFkZENhdGVnb3J5TW9kYWwpOwpleHBvcnQgZGVmYXVsdCBBZGRDYXRlZ29yeU1vZGFsOw=="},{"version":3,"sources":["/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;AACA,SACE,SADF,EACa,GADb,QAEO,wBAFP;AAIA,OAAO,YAAP,MAAyB,wBAAzB,C,CAEA;;AACA,SAAS,cAAT,QAA+B,SAA/B;AACA,SAAS,gBAAT,EAA2B,mBAA3B,QAAsD,UAAtD;;AAIA,IAAqB,gBAArB;AAAA;;AAAA;;AAAA,8BAAA;AAAA;;AAAA;;;AACU,UAAA,iBAAA,GAAoB,EAApB;AACA,UAAA,QAAA,GAAW,gBAAgB,EAA3B;AACA,UAAA,WAAA,GAAc,mBAAmB,EAAjC;AAHV;AAkBC;;AAlBD;AAAA;AAAA,mCAU4B;;;;;;;sBACpB,KAAK,iBAAL,KAA2B,S;;;;;;AACjB,uBAAM,cAAc,CAAC,WAAf,CAA2B,KAAK,QAAhC,CAAN;;;AAAN,gBAAA,G;AACN,gBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ,E,CAAkB;;AAClB,qBAAK,WAAL,CAAiB,wBAAjB,GAA4C,GAAG,CAAC,wBAAhD;;;;AAEF,uBAAM,cAAc,CAAC,cAAf,CAA8B,KAAK,WAAnC,CAAN;;;;;;;;;AACD;AAjBH;AAAA;AAAA,wBAK8B;AAC1B,aAAO,YAAY,CAAC,cAAc,CAAC,gBAAf,CAAgC;AAAhC,OACjB,GADiB,CACb,UAAC,IAAD;AAAA,eAAwB,IAAI,CAAC,QAA7B;AAAA,OADa,CAAD,CAAnB;AAED;AARH;;AAAA;AAAA,EAA8C,GAA9C,CAAA;;AAAqB,gBAAgB,GAAA,UAAA,CAAA,CADpC,SAAS,CAAC,EAAD,CAC2B,CAAA,EAAhB,gBAAgB,CAAhB;eAAA,gB","sourcesContent":["\nimport {\n  Component, Vue,\n} from \"vue-property-decorator\";\n\nimport intersection from \"lodash-es/intersection\";\n\n// import { BIconPersonCircle } from \"bootstrap-vue\";\nimport { settings_store } from \"@/store\";\nimport { newGradeCategory, newGradeSubcategory } from \"@/common\";\nimport { GradeCategory } from \"../store/models\";\n\n@Component({})\nexport default class AddCategoryModal extends Vue {\n  private selected_category = \"\";\n  private category = newGradeCategory();\n  private subcategory = newGradeSubcategory();\n\n  private get category_options() {\n    return intersection(settings_store.grade_categories // intersection returns the unique elements.\n      .map((_cat:GradeCategory) => _cat.category));\n  }\n\n  private async saveCategory() {\n    if (this.selected_category !== \"__NEW__\") {\n      const cat = await settings_store.addCategory(this.category);\n      console.log(cat); // eslint-disable-line no-console\n      this.subcategory.course_grade_category_id = cat.course_grade_category_id;\n    }\n    await settings_store.addSubcategory(this.subcategory);\n  }\n}\n"],"sourceRoot":""}]}