{"remainingRequest":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js!/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js??ref--14-2!/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue","mtime":1592303585832},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js","mtime":1588951537846},{"path":"/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js","mtime":1588951543530},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js","mtime":1588951550037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvcHN0YWFiL2NvZGUvc3RhbmRhcmRzLWdyYWRpbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvVXNlcnMvcHN0YWFiL2NvZGUvc3RhbmRhcmRzLWdyYWRpbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvcHN0YWFiL2NvZGUvc3RhbmRhcmRzLWdyYWRpbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvcHN0YWFiL2NvZGUvc3RhbmRhcmRzLWdyYWRpbmcvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0IHsgX19hd2FpdGVyLCBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiOwppbXBvcnQgaW50ZXJzZWN0aW9uIGZyb20gImxvZGFzaC1lcy9pbnRlcnNlY3Rpb24iOyAvLyBpbXBvcnQgeyBCSWNvblBlcnNvbkNpcmNsZSB9IGZyb20gImJvb3RzdHJhcC12dWUiOwoKaW1wb3J0IHsgc2V0dGluZ3Nfc3RvcmUgfSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IHsgbmV3R3JhZGVDYXRlZ29yeSwgbmV3R3JhZGVTdWJjYXRlZ29yeSB9IGZyb20gIkAvY29tbW9uIjsKCnZhciBBZGRDYXRlZ29yeU1vZGFsID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVnVlKSB7CiAgX2luaGVyaXRzKEFkZENhdGVnb3J5TW9kYWwsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEFkZENhdGVnb3J5TW9kYWwpOwoKICBmdW5jdGlvbiBBZGRDYXRlZ29yeU1vZGFsKCkgewogICAgdmFyIF90aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZGRDYXRlZ29yeU1vZGFsKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuc2VsZWN0ZWRfY2F0ZWdvcnkgPSAiIjsKICAgIF90aGlzLmNhdGVnb3J5ID0gbmV3R3JhZGVDYXRlZ29yeSgpOwogICAgX3RoaXMuc3ViY2F0ZWdvcnkgPSBuZXdHcmFkZVN1YmNhdGVnb3J5KCk7CiAgICByZXR1cm4gX3RoaXM7CiAgfQoKICBfY3JlYXRlQ2xhc3MoQWRkQ2F0ZWdvcnlNb2RhbCwgW3sKICAgIGtleTogInNhdmVDYXRlZ29yeSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2F2ZUNhdGVnb3J5KCkgewogICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgdmFyIGNhdCwgX2NhdDI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRfY2F0ZWdvcnkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKCiAgICAgICAgICAgICAgICBpZiAoISh0aGlzLnNlbGVjdGVkX2NhdGVnb3J5ID09PSAiX19ORVdfXyIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5nc19zdG9yZS5hZGRDYXRlZ29yeSh0aGlzLmNhdGVnb3J5KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgY2F0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNhdCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZQoKICAgICAgICAgICAgICAgIHRoaXMuc3ViY2F0ZWdvcnkuY291cnNlX2dyYWRlX2NhdGVnb3J5X2lkID0gY2F0LmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY2F0MiA9IHNldHRpbmdzX3N0b3JlLmdyYWRlX2NhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoX2NhdCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2NhdC5jYXRlZ29yeSA9PT0gX3RoaXMyLnNlbGVjdGVkX2NhdGVnb3J5OwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLnN1YmNhdGVnb3J5LmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZCA9IF9jYXQyLmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZDsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5nc19zdG9yZS5hZGRTdWJjYXRlZ29yeSh0aGlzLnN1YmNhdGVnb3J5KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2F0ZWdvcnlfb3B0aW9ucyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGludGVyc2VjdGlvbihzZXR0aW5nc19zdG9yZS5ncmFkZV9jYXRlZ29yaWVzIC8vIGludGVyc2VjdGlvbiByZXR1cm5zIHRoZSB1bmlxdWUgZWxlbWVudHMuCiAgICAgIC5tYXAoZnVuY3Rpb24gKF9jYXQpIHsKICAgICAgICByZXR1cm4gX2NhdC5jYXRlZ29yeTsKICAgICAgfSkpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEFkZENhdGVnb3J5TW9kYWw7Cn0oVnVlKTsKCkFkZENhdGVnb3J5TW9kYWwgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoe30pXSwgQWRkQ2F0ZWdvcnlNb2RhbCk7CmV4cG9ydCBkZWZhdWx0IEFkZENhdGVnb3J5TW9kYWw7"},{"version":3,"sources":["/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/components/AddCategoryModal.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AACA,SACE,SADF,EACa,GADb,QAEO,wBAFP;AAIA,OAAO,YAAP,MAAyB,wBAAzB,C,CAEA;;AACA,SAAS,cAAT,QAA+B,SAA/B;AACA,SAAS,gBAAT,EAA2B,mBAA3B,QAAsD,UAAtD;;AAIA,IAAqB,gBAArB;AAAA;;AAAA;;AAAA,8BAAA;AAAA;;AAAA;;;AACU,UAAA,iBAAA,GAAoB,EAApB;AACA,UAAA,QAAA,GAAW,gBAAgB,EAA3B;AACA,UAAA,WAAA,GAAc,mBAAmB,EAAjC;AAHV;AAsBC;;AAtBD;AAAA;AAAA,mCAU4B;;;;;;;;;;AACxB,gBAAA,OAAO,CAAC,GAAR,CAAY,KAAK,iBAAjB,E,CAAqC;;sBACjC,KAAK,iBAAL,KAA2B,S;;;;;;AACjB,uBAAM,cAAc,CAAC,WAAf,CAA2B,KAAK,QAAhC,CAAN;;;AAAN,gBAAA,G;AACN,gBAAA,OAAO,CAAC,GAAR,CAAY,GAAZ,E,CAAkB;;AAClB,qBAAK,WAAL,CAAiB,wBAAjB,GAA4C,GAAG,CAAC,wBAAhD;;;;;AAEM,gBAAA,K,GAAM,cAAc,CAAC,gBAAf,CAAgC,IAAhC,CAAqC,UAAC,IAAD;AAAA,yBAAU,IAAI,CAAC,QAAL,KAAkB,MAAI,CAAC,iBAAjC;AAAA,iBAArC,C;AACZ,qBAAK,WAAL,CAAiB,wBAAjB,GAA4C,KAAG,CAAC,wBAAhD;;;;AAEF,uBAAM,cAAc,CAAC,cAAf,CAA8B,KAAK,WAAnC,CAAN;;;;;;;;;AACD;AArBH;AAAA;AAAA,wBAK8B;AAC1B,aAAO,YAAY,CAAC,cAAc,CAAC,gBAAf,CAAgC;AAAhC,OACjB,GADiB,CACb,UAAC,IAAD;AAAA,eAAwB,IAAI,CAAC,QAA7B;AAAA,OADa,CAAD,CAAnB;AAED;AARH;;AAAA;AAAA,EAA8C,GAA9C,CAAA;;AAAqB,gBAAgB,GAAA,UAAA,CAAA,CADpC,SAAS,CAAC,EAAD,CAC2B,CAAA,EAAhB,gBAAgB,CAAhB;eAAA,gB","sourcesContent":["\nimport {\n  Component, Vue,\n} from \"vue-property-decorator\";\n\nimport intersection from \"lodash-es/intersection\";\n\n// import { BIconPersonCircle } from \"bootstrap-vue\";\nimport { settings_store } from \"@/store\";\nimport { newGradeCategory, newGradeSubcategory } from \"@/common\";\nimport { GradeCategory, GradeSubcategory } from \"../store/models\";\n\n@Component({})\nexport default class AddCategoryModal extends Vue {\n  private selected_category = \"\";\n  private category = newGradeCategory();\n  private subcategory = newGradeSubcategory();\n\n  private get category_options() {\n    return intersection(settings_store.grade_categories // intersection returns the unique elements.\n      .map((_cat:GradeCategory) => _cat.category));\n  }\n\n  private async saveCategory() {\n    console.log(this.selected_category); // eslint-disable-line no-console\n    if (this.selected_category === \"__NEW__\") {\n      const cat = await settings_store.addCategory(this.category);\n      console.log(cat); // eslint-disable-line no-console\n      this.subcategory.course_grade_category_id = cat.course_grade_category_id;\n    } else {\n      const cat = settings_store.grade_categories.find((_cat) => _cat.category === this.selected_category);\n      this.subcategory.course_grade_category_id = cat.course_grade_category_id;\n    }\n    await settings_store.addSubcategory(this.subcategory);\n  }\n}\n"],"sourceRoot":""}]}