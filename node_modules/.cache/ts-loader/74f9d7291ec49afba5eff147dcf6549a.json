{"remainingRequest":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js!/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js??ref--14-2!/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue","mtime":1592341113778},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js","mtime":1588951537846},{"path":"/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js","mtime":1588951543530},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js","mtime":1588951550037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBpbnRlcnNlY3Rpb24gZnJvbSAibG9kYXNoLWVzL2ludGVyc2VjdGlvbiI7CmltcG9ydCB7IHNldHRpbmdzX3N0b3JlLCBhcHBfc3RhdGVfc3RvcmUgfSBmcm9tICJAL3N0b3JlIjsKaW1wb3J0IEFkZENhdGVnb3J5TW9kYWwgZnJvbSAiQC9jb21wb25lbnRzL0FkZENhdGVnb3J5TW9kYWwudnVlIjsKaW1wb3J0IEVkaXRDYXRlZ29yeU1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9FZGl0Q2F0ZWdvcnlNb2RhbC52dWUiOwppbXBvcnQgeyBuZXdHcmFkZVN1YmNhdGVnb3J5IH0gZnJvbSAiQC9jb21tb24iOyAvLyBAQ29tcG9uZW50KHsgbmFtZTogIkFkZE5ld1VzZXIiIH0pCgp2YXIgU2V0dGluZ3MgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9WdWUpIHsKICBfaW5oZXJpdHMoU2V0dGluZ3MsIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFNldHRpbmdzKTsKCiAgZnVuY3Rpb24gU2V0dGluZ3MoKSB7CiAgICB2YXIgX3RoaXM7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNldHRpbmdzKTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMuc2VsZWN0ZWRfc3ViY2F0ZWdvcnkgPSBuZXdHcmFkZVN1YmNhdGVnb3J5KCk7IC8vIHByaXZhdGUgY2F0ZWdvcmllczogR3JhZGVDYXRlZ29yeVtdID0gW107CiAgICAvLyBwcml2YXRlIHN1YmNhdGVnb3JpZXM6IEdyYWRlU3ViY2F0ZWdvcnlbXSA9IFtdOwoKICAgIF90aGlzLmZpZWxkcyA9IFt7CiAgICAgIGtleTogImdyYWRlX25hbWUiCiAgICB9LCB7CiAgICAgIGtleTogInN1YmNhdGVnb3J5X2Rlc2NyaXB0aW9uIgogICAgfV07IC8vIHByaXZhdGUgYmVmb3JlTW91bnQoKSB7CiAgICAvLyAgIHRoaXMuY2F0ZWdvcmllcyA9IEFycmF5LmZyb20oc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfY2F0ZWdvcmllcyk7CiAgICAvLyAgIHRoaXMuc3ViY2F0ZWdvcmllcyA9IEFycmF5LmZyb20oc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfc3ViY2F0ZWdvcmllcyk7CiAgICAvLwogICAgLy8gICB0aGlzLiRzdG9yZS5zdWJzY3JpYmUoKG11dGF0aW9uKSA9PiB7CiAgICAvLyAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICJTZXR0aW5nc01vZHVsZS9uZXdDYXRlZ29yeSIgfHwgbXV0YXRpb24udHlwZSA9PT0gIlNldHRpbmdzTW9kdWxlL3NldEdyYWRlQ2F0ZWdvcmllcyIpIHsKICAgIC8vICAgICAgIHRoaXMuY2F0ZWdvcmllcyA9IEFycmF5LmZyb20oc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfY2F0ZWdvcmllcyk7CiAgICAvLyAgICAgfQogICAgLy8KICAgIC8vICAgICBpZiAoWyJTZXR0aW5nc01vZHVsZS9uZXdTdWJjYXRlZ29yeSIsICJTZXR0aW5nc01vZHVsZS9zZXRHcmFkZVN1YmNhdGVnb3JpZXMiXS5pbmNsdWRlcyhtdXRhdGlvbi50eXBlKSkgewogICAgLy8gICAgICAgdGhpcy5zdWJjYXRlZ29yaWVzID0gQXJyYXkuZnJvbShzZXR0aW5nc19zdG9yZS5ncmFkZV9zdWJjYXRlZ29yaWVzKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pOwogICAgLy8gfQoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhTZXR0aW5ncywgW3sKICAgIGtleTogImdldFN1YmNhdGVnb3J5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdWJjYXRlZ29yeShjYXRfbmFtZSkgewogICAgICB2YXIgY2F0ID0gdGhpcy5jYXRlZ29yaWVzLmZpbmQoZnVuY3Rpb24gKF9jYXQpIHsKICAgICAgICByZXR1cm4gX2NhdC5jYXRlZ29yeSA9PT0gY2F0X25hbWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gY2F0ID8gdGhpcy5zdWJjYXRlZ29yaWVzLmZpbHRlcihmdW5jdGlvbiAoX2NhdCkgewogICAgICAgIHJldHVybiBfY2F0LmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZCA9PT0gY2F0LmNvdXJzZV9ncmFkZV9jYXRlZ29yeV9pZDsKICAgICAgfSkgOiBuZXdHcmFkZVN1YmNhdGVnb3J5KCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlEZXNjcmlwdGlvbihjYXRfbmFtZSkgewogICAgICB2YXIgY2F0ID0gdGhpcy5jYXRlZ29yaWVzLmZpbmQoZnVuY3Rpb24gKF9jYXQpIHsKICAgICAgICByZXR1cm4gX2NhdC5jYXRlZ29yeSA9PT0gY2F0X25hbWU7CiAgICAgIH0pOwogICAgICByZXR1cm4gY2F0ID8gY2F0LmNhdGVnb3J5X2Rlc2NyaXB0aW9uIDogIiI7CiAgICB9CiAgfSwgewogICAga2V5OiAib25Sb3dTZWxlY3RlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gb25Sb3dTZWxlY3RlZChpdGVtcykgewogICAgICB0aGlzLnNlbGVjdGVkX3N1YmNhdGVnb3J5ID0gaXRlbXNbMF07CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuc2VsZWN0ZWRfc3ViY2F0ZWdvcnkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGUKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYXRlZ29yeV9uYW1lcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIGludGVyc2VjdGlvbih0aGlzLmNhdGVnb3JpZXMubWFwKGZ1bmN0aW9uIChfY2F0KSB7CiAgICAgICAgcmV0dXJuIF9jYXQuY2F0ZWdvcnk7CiAgICAgIH0pKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJjYXRlZ29yaWVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfY2F0ZWdvcmllczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzdWJjYXRlZ29yaWVzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfc3ViY2F0ZWdvcmllcy5maWx0ZXIoZnVuY3Rpb24gKF9jYXQpIHsKICAgICAgICByZXR1cm4gX2NhdC5jb3Vyc2VfaWQgPT09IGFwcF9zdGF0ZV9zdG9yZS5jdXJyZW50X2NvdXJzZV9pZDsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2V0dGluZ3M7Cn0oVnVlKTsKClNldHRpbmdzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBBZGRDYXRlZ29yeU1vZGFsOiBBZGRDYXRlZ29yeU1vZGFsLAogICAgRWRpdENhdGVnb3J5TW9kYWw6IEVkaXRDYXRlZ29yeU1vZGFsCiAgfQp9KV0sIFNldHRpbmdzKTsKZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3M7"},{"version":3,"sources":["/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;AACA,SACE,SADF,EACa,GADb,QAEO,wBAFP;AAGA,OAAO,YAAP,MAAyB,wBAAzB;AAEA,SAAS,cAAT,EAAyB,eAAzB,QAAgD,SAAhD;AACA,OAAO,gBAAP,MAA6B,mCAA7B;AACA,OAAO,iBAAP,MAA8B,oCAA9B;AACA,SAAS,mBAAT,QAAoC,UAApC,C,CAGA;;AAOA,IAAqB,QAArB;AAAA;;AAAA;;AAAA,sBAAA;AAAA;;AAAA;;;AACU,UAAA,oBAAA,GAAuB,mBAAmB,EAA1C,CADV,CAEE;AACA;;AAEQ,UAAA,MAAA,GAAS,CACf;AAAE,MAAA,GAAG,EAAE;AAAP,KADe,EAEf;AAAE,MAAA,GAAG,EAAE;AAAP,KAFe,CAAT,CALV,CAsCE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAnDF;AAoDC;;AApDD;AAAA;AAAA,mCAsByB,QAtBzB,EAsByC;AACrC,UAAM,GAAG,GAAG,KAAK,UAAL,CAAgB,IAAhB,CAAqB,UAAC,IAAD;AAAA,eAAyB,IAAI,CAAC,QAAL,KAAkB,QAA3C;AAAA,OAArB,CAAZ;AACA,aAAO,GAAG,GAAG,KAAK,aAAL,CACV,MADU,CACH,UAAC,IAAD;AAAA,eAAU,IAAI,CAAC,wBAAL,KAAkC,GAAG,CAAC,wBAAhD;AAAA,OADG,CAAH,GAC4E,mBAAmB,EADzG;AAED;AA1BH;AAAA;AAAA,2CA4BiC,QA5BjC,EA4BiD;AAC7C,UAAM,GAAG,GAAG,KAAK,UAAL,CAAgB,IAAhB,CAAqB,UAAC,IAAD;AAAA,eAAyB,IAAI,CAAC,QAAL,KAAkB,QAA3C;AAAA,OAArB,CAAZ;AACA,aAAO,GAAG,GAAG,GAAG,CAAC,oBAAP,GAA8B,EAAxC;AACD;AA/BH;AAAA;AAAA,kCAiCwB,KAjCxB,EAiC6B;AACzB,WAAK,oBAAL,GAA4B,KAAK,CAAC,CAAD,CAAjC;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,KAAK,oBAAjB,EAFyB,CAEe;AACzC;AApCH;AAAA;AAAA,wBAS4B;AACxB,aAAO,YAAY,CAAC,KAAK,UAAL,CAAgB,GAAhB,CAAoB,UAAC,IAAD;AAAA,eAAU,IAAI,CAAC,QAAf;AAAA,OAApB,CAAD,CAAnB;AACD;AAXH;AAAA;AAAA,wBAawB;AACpB,aAAO,cAAc,CAAC,gBAAtB;AACD;AAfH;AAAA;AAAA,wBAiB2B;AACvB,aAAO,cAAc,CAAC,mBAAf,CACJ,MADI,CACG,UAAC,IAAD;AAAA,eAA4B,IAAI,CAAC,SAAL,KAAmB,eAAe,CAAC,iBAA/D;AAAA,OADH,CAAP;AAED;AApBH;;AAAA;AAAA,EAAsC,GAAtC,CAAA;;AAAqB,QAAQ,GAAA,UAAA,CAAA,CAN5B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,gBAAgB,EAAhB,gBADU;AAEV,IAAA,iBAAiB,EAAjB;AAFU;AADH,CAAD,CAMmB,CAAA,EAAR,QAAQ,CAAR;eAAA,Q","sourcesContent":["\nimport {\n  Component, Vue,\n} from \"vue-property-decorator\";\nimport intersection from \"lodash-es/intersection\";\n\nimport { settings_store, app_state_store } from \"@/store\";\nimport AddCategoryModal from \"@/components/AddCategoryModal.vue\";\nimport EditCategoryModal from \"@/components/EditCategoryModal.vue\";\nimport { newGradeSubcategory } from \"@/common\";\nimport { GradeCategory } from \"../../store/models\";\n\n// @Component({ name: \"AddNewUser\" })\n@Component({\n  components: {\n    AddCategoryModal,\n    EditCategoryModal,\n  },\n})\nexport default class Settings extends Vue {\n  private selected_subcategory = newGradeSubcategory();\n  // private categories: GradeCategory[] = [];\n  // private subcategories: GradeSubcategory[] = [];\n\n  private fields = [\n    { key: \"grade_name\" },\n    { key: \"subcategory_description\" },\n  ]\n  private get category_names() {\n    return intersection(this.categories.map((_cat) => _cat.category));\n  }\n\n  private get categories() {\n    return settings_store.grade_categories;\n  }\n\n  private get subcategories() {\n    return settings_store.grade_subcategories\n      .filter((_cat: GradeSubcategory) => _cat.course_id === app_state_store.current_course_id);\n  }\n\n  private getSubcategory(cat_name: string) {\n    const cat = this.categories.find((_cat: GradeCategory) => _cat.category === cat_name);\n    return cat ? this.subcategories\n      .filter((_cat) => _cat.course_grade_category_id === cat.course_grade_category_id) : newGradeSubcategory();\n  }\n\n  private getCategoryDescription(cat_name: string) {\n    const cat = this.categories.find((_cat: GradeCategory) => _cat.category === cat_name);\n    return cat ? cat.category_description : \"\";\n  }\n\n  private onRowSelected(items) {\n    this.selected_subcategory = items[0] as GradeSubcategory;\n    console.log(this.selected_subcategory); // eslint-disable-line no-console\n  }\n\n  // private beforeMount() {\n  //   this.categories = Array.from(settings_store.grade_categories);\n  //   this.subcategories = Array.from(settings_store.grade_subcategories);\n  //\n  //   this.$store.subscribe((mutation) => {\n  //     if (mutation.type === \"SettingsModule/newCategory\" || mutation.type === \"SettingsModule/setGradeCategories\") {\n  //       this.categories = Array.from(settings_store.grade_categories);\n  //     }\n  //\n  //     if ([\"SettingsModule/newSubcategory\", \"SettingsModule/setGradeSubcategories\"].includes(mutation.type)) {\n  //       this.subcategories = Array.from(settings_store.grade_subcategories);\n  //     }\n  //   });\n  // }\n}\n"],"sourceRoot":""}]}