{"remainingRequest":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js!/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js??ref--14-2!/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue","mtime":1592235380982},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js","mtime":1588951537846},{"path":"/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js","mtime":1588951543530},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js","mtime":1588951550037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3BzdGFhYi9jb2RlL3N0YW5kYXJkcy1ncmFkaW5nL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCB7IENvbXBvbmVudCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCBpbnRlcnNlY3Rpb24gZnJvbSAibG9kYXNoLWVzL2ludGVyc2VjdGlvbiI7CmltcG9ydCB7IHNldHRpbmdzX3N0b3JlIH0gZnJvbSAiQC9zdG9yZSI7CmltcG9ydCBBZGRDYXRlZ29yeU1vZGFsIGZyb20gIkAvY29tcG9uZW50cy9BZGRDYXRlZ29yeU1vZGFsLnZ1ZSI7CmltcG9ydCB7IG5ld0dyYWRlU3ViY2F0ZWdvcnkgfSBmcm9tICJAL2NvbW1vbiI7IC8vIEBDb21wb25lbnQoeyBuYW1lOiAiQWRkTmV3VXNlciIgfSkKCnZhciBTZXR0aW5ncyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhTZXR0aW5ncywgX1Z1ZSk7CgogIHZhciBfc3VwZXIgPSBfY3JlYXRlU3VwZXIoU2V0dGluZ3MpOwoKICBmdW5jdGlvbiBTZXR0aW5ncygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU2V0dGluZ3MpOwoKICAgIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICBfdGhpcy5jYXRlZ29yaWVzID0gW107CiAgICBfdGhpcy5zdWJjYXRlZ29yaWVzID0gW107CiAgICBfdGhpcy5maWVsZHMgPSBbewogICAgICBrZXk6ICJncmFkZV9uYW1lIgogICAgfSwgewogICAgICBrZXk6ICJzdWJjYXRlZ29yeV9kZXNjcmlwdGlvbiIKICAgIH1dOwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFNldHRpbmdzLCBbewogICAga2V5OiAiZ2V0U3ViY2F0ZWdvcnkiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN1YmNhdGVnb3J5KGNhdF9uYW1lKSB7CiAgICAgIHZhciBjYXQgPSB0aGlzLmNhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoX2NhdCkgewogICAgICAgIHJldHVybiBfY2F0LmNhdGVnb3J5ID09PSBjYXRfbmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBjYXQgPyB0aGlzLnN1YmNhdGVnb3JpZXMuZmlsdGVyKGZ1bmN0aW9uIChfY2F0KSB7CiAgICAgICAgcmV0dXJuIF9jYXQuY291cnNlX2dyYWRlX2NhdGVnb3J5X2lkID09PSBjYXQuY291cnNlX2dyYWRlX2NhdGVnb3J5X2lkOwogICAgICB9KSA6IG5ld0dyYWRlU3ViY2F0ZWdvcnkoKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRDYXRlZ29yeURlc2NyaXB0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDYXRlZ29yeURlc2NyaXB0aW9uKGNhdF9uYW1lKSB7CiAgICAgIHZhciBjYXQgPSB0aGlzLmNhdGVnb3JpZXMuZmluZChmdW5jdGlvbiAoX2NhdCkgewogICAgICAgIHJldHVybiBfY2F0LmNhdGVnb3J5ID09PSBjYXRfbmFtZTsKICAgICAgfSk7CiAgICAgIHJldHVybiBjYXQgPyBjYXQuY2F0ZWdvcnlfZGVzY3JpcHRpb24gOiAiIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJiZWZvcmVNb3VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5jYXRlZ29yaWVzID0gQXJyYXkuZnJvbShzZXR0aW5nc19zdG9yZS5ncmFkZV9jYXRlZ29yaWVzKTsKICAgICAgdGhpcy5zdWJjYXRlZ29yaWVzID0gQXJyYXkuZnJvbShzZXR0aW5nc19zdG9yZS5ncmFkZV9zdWJjYXRlZ29yaWVzKTsKICAgICAgdGhpcy4kc3RvcmUuc3Vic2NyaWJlKGZ1bmN0aW9uIChtdXRhdGlvbikgewogICAgICAgIGNvbnNvbGUubG9nKG11dGF0aW9uKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlCgogICAgICAgIGlmIChtdXRhdGlvbi50eXBlID09PSAiU2V0dGluZ3NNb2R1bGUvbmV3Q2F0ZWdvcnkiIHx8IG11dGF0aW9uLnR5cGUgPT09ICJTZXR0aW5nc01vZHVsZS9zZXRHcmFkZUNhdGVnb3JpZXMiKSB7CiAgICAgICAgICBfdGhpczIuY2F0ZWdvcmllcyA9IEFycmF5LmZyb20oc2V0dGluZ3Nfc3RvcmUuZ3JhZGVfY2F0ZWdvcmllcyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoWyJTZXR0aW5nc01vZHVsZS9uZXdTdWJjYXRlZ29yeSIsICJTZXR0aW5nc01vZHVsZS9zZXRHcmFkZVN1YmNhdGVnb3JpZXMiXS5pbmNsdWRlcyhtdXRhdGlvbi50eXBlKSkgewogICAgICAgICAgX3RoaXMyLnN1YmNhdGVnb3JpZXMgPSBBcnJheS5mcm9tKHNldHRpbmdzX3N0b3JlLmdyYWRlX3N1YmNhdGVnb3JpZXMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiY2F0ZWdvcnlfbmFtZXMiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiBpbnRlcnNlY3Rpb24odGhpcy5jYXRlZ29yaWVzLm1hcChmdW5jdGlvbiAoX2NhdCkgewogICAgICAgIHJldHVybiBfY2F0LmNhdGVnb3J5OwogICAgICB9KSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU2V0dGluZ3M7Cn0oVnVlKTsKClNldHRpbmdzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBBZGRDYXRlZ29yeU1vZGFsOiBBZGRDYXRlZ29yeU1vZGFsCiAgfQp9KV0sIFNldHRpbmdzKTsKZXhwb3J0IGRlZmF1bHQgU2V0dGluZ3M7"},{"version":3,"sources":["/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/views/instructor-views/Settings.vue?vue&type=script&lang=ts&"],"names":[],"mappings":";;;;;;;;;;;AACA,SACE,SADF,EACa,GADb,QAEO,wBAFP;AAGA,OAAO,YAAP,MAAyB,wBAAzB;AAEA,SAAS,cAAT,QAA+B,SAA/B;AACA,OAAO,gBAAP,MAA6B,mCAA7B;AACA,SAAS,mBAAT,QAAoC,UAApC,C,CAGA;;AAMA,IAAqB,QAArB;AAAA;;AAAA;;AAAA,sBAAA;AAAA;;AAAA;;;AACU,UAAA,UAAA,GAA8B,EAA9B;AACA,UAAA,aAAA,GAAoC,EAApC;AAEA,UAAA,MAAA,GAAS,CACf;AAAE,MAAA,GAAG,EAAE;AAAP,KADe,EAEf;AAAE,MAAA,GAAG,EAAE;AAAP,KAFe,CAAT;AAJV;AAuCC;;AAvCD;AAAA;AAAA,mCAYyB,QAZzB,EAYyC;AACrC,UAAM,GAAG,GAAG,KAAK,UAAL,CAAgB,IAAhB,CAAqB,UAAC,IAAD;AAAA,eAAyB,IAAI,CAAC,QAAL,KAAkB,QAA3C;AAAA,OAArB,CAAZ;AAEA,aAAO,GAAG,GAAG,KAAK,aAAL,CACV,MADU,CACH,UAAC,IAAD;AAAA,eAAU,IAAI,CAAC,wBAAL,KAAkC,GAAG,CAAC,wBAAhD;AAAA,OADG,CAAH,GAC4E,mBAAmB,EADzG;AAED;AAjBH;AAAA;AAAA,2CAmBiC,QAnBjC,EAmBiD;AAC7C,UAAM,GAAG,GAAG,KAAK,UAAL,CAAgB,IAAhB,CAAqB,UAAC,IAAD;AAAA,eAAyB,IAAI,CAAC,QAAL,KAAkB,QAA3C;AAAA,OAArB,CAAZ;AACA,aAAO,GAAG,GAAG,GAAG,CAAC,oBAAP,GAA8B,EAAxC;AACD;AAtBH;AAAA;AAAA,kCAwBqB;AAAA;;AACjB,WAAK,UAAL,GAAkB,KAAK,CAAC,IAAN,CAAW,cAAc,CAAC,gBAA1B,CAAlB;AACA,WAAK,aAAL,GAAqB,KAAK,CAAC,IAAN,CAAW,cAAc,CAAC,mBAA1B,CAArB;AAEA,WAAK,MAAL,CAAY,SAAZ,CAAsB,UAAC,QAAD,EAAa;AACjC,QAAA,OAAO,CAAC,GAAR,CAAY,QAAZ,EADiC,CACV;;AACvB,YAAI,QAAQ,CAAC,IAAT,KAAkB,4BAAlB,IAAkD,QAAQ,CAAC,IAAT,KAAkB,mCAAxE,EAA6G;AAC3G,UAAA,MAAI,CAAC,UAAL,GAAkB,KAAK,CAAC,IAAN,CAAW,cAAc,CAAC,gBAA1B,CAAlB;AACD;;AAED,YAAI,CAAC,+BAAD,EAAkC,sCAAlC,EAA0E,QAA1E,CAAmF,QAAQ,CAAC,IAA5F,CAAJ,EAAuG;AACrG,UAAA,MAAI,CAAC,aAAL,GAAqB,KAAK,CAAC,IAAN,CAAW,cAAc,CAAC,mBAA1B,CAArB;AACD;AACF,OATD;AAUD;AAtCH;AAAA;AAAA,wBAQ4B;AACxB,aAAO,YAAY,CAAC,KAAK,UAAL,CAAgB,GAAhB,CAAoB,UAAC,IAAD;AAAA,eAAU,IAAI,CAAC,QAAf;AAAA,OAApB,CAAD,CAAnB;AACD;AAVH;;AAAA;AAAA,EAAsC,GAAtC,CAAA;;AAAqB,QAAQ,GAAA,UAAA,CAAA,CAL5B,SAAS,CAAC;AACT,EAAA,UAAU,EAAE;AACV,IAAA,gBAAgB,EAAhB;AADU;AADH,CAAD,CAKmB,CAAA,EAAR,QAAQ,CAAR;eAAA,Q","sourcesContent":["\nimport {\n  Component, Vue,\n} from \"vue-property-decorator\";\nimport intersection from \"lodash-es/intersection\";\n\nimport { settings_store } from \"@/store\";\nimport AddCategoryModal from \"@/components/AddCategoryModal.vue\";\nimport { newGradeSubcategory } from \"@/common\";\nimport { GradeCategory } from \"../../store/models\";\n\n// @Component({ name: \"AddNewUser\" })\n@Component({\n  components: {\n    AddCategoryModal,\n  },\n})\nexport default class Settings extends Vue {\n  private categories: GradeCategory[] = [];\n  private subcategories: GradeSubcategory[] = [];\n\n  private fields = [\n    { key: \"grade_name\" },\n    { key: \"subcategory_description\" },\n  ]\n  private get category_names() {\n    return intersection(this.categories.map((_cat) => _cat.category));\n  }\n\n  private getSubcategory(cat_name: string) {\n    const cat = this.categories.find((_cat: GradeCategory) => _cat.category === cat_name);\n\n    return cat ? this.subcategories\n      .filter((_cat) => _cat.course_grade_category_id === cat.course_grade_category_id) : newGradeSubcategory();\n  }\n\n  private getCategoryDescription(cat_name: string) {\n    const cat = this.categories.find((_cat: GradeCategory) => _cat.category === cat_name);\n    return cat ? cat.category_description : \"\";\n  }\n\n  private beforeMount() {\n    this.categories = Array.from(settings_store.grade_categories);\n    this.subcategories = Array.from(settings_store.grade_subcategories);\n\n    this.$store.subscribe((mutation) => {\n      console.log(mutation); // eslint-disable-line no-console\n      if (mutation.type === \"SettingsModule/newCategory\" || mutation.type === \"SettingsModule/setGradeCategories\") {\n        this.categories = Array.from(settings_store.grade_categories);\n      }\n\n      if ([\"SettingsModule/newSubcategory\", \"SettingsModule/setGradeSubcategories\"].includes(mutation.type)) {\n        this.subcategories = Array.from(settings_store.grade_subcategories);\n      }\n    });\n  }\n}\n"],"sourceRoot":""}]}