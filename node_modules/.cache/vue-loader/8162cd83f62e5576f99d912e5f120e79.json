{"remainingRequest":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/pstaab/code/standards-grading/src/components/MenuBar.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/pstaab/code/standards-grading/src/components/MenuBar.vue","mtime":1592133706047},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/babel-loader/lib/index.js","mtime":1588951537846},{"path":"/Users/pstaab/code/standards-grading/node_modules/ts-loader/index.js","mtime":1588951543530},{"path":"/Users/pstaab/code/standards-grading/node_modules/cache-loader/dist/cjs.js","mtime":1588951537868},{"path":"/Users/pstaab/code/standards-grading/node_modules/vue-loader/lib/index.js","mtime":1588951550037}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7CiAgQ29tcG9uZW50LCBWdWUsIFByb3AsCn0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB7IEJJY29uUGVyc29uQ2lyY2xlIH0gZnJvbSAiYm9vdHN0cmFwLXZ1ZSI7CmltcG9ydCB7IGFwcF9zdGF0ZV9zdG9yZSwgY291cnNlX3N0b3JlIH0gZnJvbSAiQC9zdG9yZSI7CgppbXBvcnQgeyBVc2VyQ291cnNlLCBDb3Vyc2UgfSBmcm9tICIuLi9zdG9yZS9tb2RlbHMiOwoKQENvbXBvbmVudCh7CiAgY29tcG9uZW50czogeyBCSWNvblBlcnNvbkNpcmNsZSB9LAp9KQpleHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51QmFyIGV4dGVuZHMgVnVlIHsKICBAUHJvcCgpIHByaXZhdGUgdHlwZSE6IHN0cmluZzsKCiAgQFByb3AoKSBwcml2YXRlIHVzZXJfY291cnNlcyE6IFVzZXJDb3Vyc2VbXTsKCiAgcHJpdmF0ZSB2aWV3X25hbWUgPSAiIjsKCiAgcHJpdmF0ZSByb2xlID0gIiI7CgogIHByaXZhdGUgY291cnNlX2lkID0gMDsKCiAgcHJpdmF0ZSBnZXQgbG9naW5fdXNlcigpIHsKICAgIHJldHVybiBhcHBfc3RhdGVfc3RvcmUubG9naW5fdXNlcjsKICB9CgogIHByaXZhdGUgZ2V0IGxvZ2luX3VzZXJfZnVsbG5hbWUoKSB7CiAgICByZXR1cm4gYCR7dGhpcy5sb2dpbl91c2VyLmZpcnN0X25hbWV9ICR7dGhpcy5sb2dpbl91c2VyLmxhc3RfbmFtZX1gOwogIH0KCiAgcHJpdmF0ZSBnZXQgaGFzX2FjdF9hc19yb2xlKCkgewogICAgcmV0dXJuIHRoaXMucm9sZSAhPT0gInN0dWRlbnQiOwogIH0KCiAgcHJpdmF0ZSBnZXQgY291cnNlKCkgewogICAgY29uc3QgY291cnNlID0gY291cnNlX3N0b3JlLmNvdXJzZXMKICAgICAgLmZpbmQoKF9jb3Vyc2U6IENvdXJzZSkgPT4gX2NvdXJzZS5jb3Vyc2VfaWQgPT09IHRoaXMuY291cnNlX2lkKTsKICAgIHJldHVybiBjb3Vyc2UgPyBjb3Vyc2UuY291cnNlX25hbWUgOiAiIjsKICB9CgogIHByaXZhdGUgc2V0Q291cnNlSUQoX2NvdXJzZV9pZDogbnVtYmVyKTogdm9pZCB7CiAgICBhcHBfc3RhdGVfc3RvcmUuc2V0Q3VycmVudENvdXJzZUlEKF9jb3Vyc2VfaWQpOwogIH0KCiAgY3JlYXRlZCgpOiB2b2lkIHsKICAgIHRoaXMudmlld19uYW1lID0gYXBwX3N0YXRlX3N0b3JlLnZpZXdfbmFtZTsKICAgIHRoaXMucm9sZSA9IGFwcF9zdGF0ZV9zdG9yZS5yb2xlOwogICAgdGhpcy4kc3RvcmUuc3Vic2NyaWJlKChtdXRhdGlvbikgPT4gewogICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gIkFwcFN0YXRlTW9kdWxlL3NldFZpZXdOYW1lIikgewogICAgICAgIHRoaXMudmlld19uYW1lID0gYXBwX3N0YXRlX3N0b3JlLnZpZXdfbmFtZTsKICAgICAgfQogICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gIkFwcFN0YXRlTW9kdWxlL3NldFJvbGUiKSB7CiAgICAgICAgdGhpcy5yb2xlID0gYXBwX3N0YXRlX3N0b3JlLnJvbGU7CiAgICAgIH0KICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICJBcHBTdGF0ZU1vZHVsZS9zZXRDdXJyZW50Q291cnNlSUQiKSB7CiAgICAgICAgdGhpcy5jb3Vyc2VfaWQgPSBhcHBfc3RhdGVfc3RvcmUuY3VycmVudF9jb3Vyc2VfaWQ7CiAgICAgIH0KICAgIH0pOwogIH0KfQo="},{"version":3,"sources":["MenuBar.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MenuBar.vue","sourceRoot":"src/components","sourcesContent":["<script lang=\"ts\">\nimport {\n  Component, Vue, Prop,\n} from \"vue-property-decorator\";\nimport { BIconPersonCircle } from \"bootstrap-vue\";\nimport { app_state_store, course_store } from \"@/store\";\n\nimport { UserCourse, Course } from \"../store/models\";\n\n@Component({\n  components: { BIconPersonCircle },\n})\nexport default class MenuBar extends Vue {\n  @Prop() private type!: string;\n\n  @Prop() private user_courses!: UserCourse[];\n\n  private view_name = \"\";\n\n  private role = \"\";\n\n  private course_id = 0;\n\n  private get login_user() {\n    return app_state_store.login_user;\n  }\n\n  private get login_user_fullname() {\n    return `${this.login_user.first_name} ${this.login_user.last_name}`;\n  }\n\n  private get has_act_as_role() {\n    return this.role !== \"student\";\n  }\n\n  private get course() {\n    const course = course_store.courses\n      .find((_course: Course) => _course.course_id === this.course_id);\n    return course ? course.course_name : \"\";\n  }\n\n  private setCourseID(_course_id: number): void {\n    app_state_store.setCurrentCourseID(_course_id);\n  }\n\n  created(): void {\n    this.view_name = app_state_store.view_name;\n    this.role = app_state_store.role;\n    this.$store.subscribe((mutation) => {\n      if (mutation.type === \"AppStateModule/setViewName\") {\n        this.view_name = app_state_store.view_name;\n      }\n      if (mutation.type === \"AppStateModule/setRole\") {\n        this.role = app_state_store.role;\n      }\n      if (mutation.type === \"AppStateModule/setCurrentCourseID\") {\n        this.course_id = app_state_store.current_course_id;\n      }\n    });\n  }\n}\n</script>\n\n<template>\n  <b-navbar type=\"dark\" variant=\"dark\">\n    <b-navbar-brand>Grading Sheet</b-navbar-brand>\n    <b-nav pills small>\n      <b-nav-item v-if=\"type==='instructor'\"\n        :active=\"view_name === 'Course Users'\"\n        :to=\"{name: 'course-users', params: { course_id: course_id } }\">Course Users\n      </b-nav-item>\n\n      <b-nav-item v-if=\"type==='instructor'\"\n        :active=\"view_name === 'Course Settings'\"\n        :to=\"{name: 'settings', params: { course_id: course_id  } }\">Course Settings\n      </b-nav-item>\n      <b-nav-item v-if=\"type==='instructor'\"\n        :active=\"view_name === 'Course Grades'\"\n        :to=\"{name: 'course-grades', params: {course_id: course_id } }\">Course Grades\n    </b-nav-item>\n      <b-nav-item v-if=\"type==='admin'\"\n        :active=\"view_name === 'Users'\"\n        :to=\"{name: 'users'}\"\n        >Users</b-nav-item>\n      <b-nav-item v-if=\"type==='admin'\"\n        :active=\"view_name === 'Courses'\"\n        :to=\"{name: 'courses'}\">Courses</b-nav-item>\n    </b-nav>\n    <b-navbar-nav small class=\"ml-auto\">\n      <b-nav-text v-if=\"type !== 'admin'\">Current Course: {{course}}</b-nav-text>\n      <b-nav-item-dd right v-if=\"type !== 'admin'\">\n        <b-dd-item\n          v-if=\"user_courses\"\n          v-for=\"course in user_courses\"\n          :key =\"course.course_id\"\n          @click=\"setCourseID(course.course_id)\"\n          >{{course.course_name}}</b-dd-item>\n      </b-nav-item-dd>\n      <b-nav-item-dd v-if=\"has_act_as_role\" text=\"Change Role\">\n        <b-dd-item v-if=\"login_user.is_admin\" :to=\"{name: 'admin'}\">Admin</b-dd-item>\n        <b-dd-item :to=\"{name: 'instructor'}\">Instructor</b-dd-item>\n        <b-dd-item :to=\"{name: 'student'}\">Student</b-dd-item>\n      </b-nav-item-dd>\n\n      <b-nav-item-dd right>\n        <template v-slot:button-content>\n          <b-icon-person-circle/>\n        </template>\n        <b-dd-text>{{login_user_fullname}}</b-dd-text>\n        <b-dd-item>Logout</b-dd-item>\n      </b-nav-item-dd>\n    </b-navbar-nav>\n  </b-navbar>\n</template>\n"]}]}